<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>教师管理</title>
    <base href="http://localhost:8080/project/">
    <script type="text/javascript" src="script/jquery-3.5.1.js"></script>
    <script type="text/javascript">
        $(function (){
            $(document).ready(function (){
                $.ajax({
                    url:"http://localhost:8080/project/adminServlet",
                    data:"action=listTeacher",
                    type:"POST",
                    dataType:"json",
                    success:function(data){
                        let teachers = data;
                        for(let i in teachers){
                            let teacher = teachers[i];
                            let td1 = $("<td>"+teacher.id+"</td>");
                            let td2 = $("<td>"+teacher.name+"</td>");
                            let td3 = $("<td><form method='POST' action='adminServlet'><input type='hidden' name='action' value='delTeacher'><input type='hidden' name='id' value='"+teacher.id+"'><input type='submit' value='删除'></form></td>");
                            let tr = $("<tr></tr>");
                            $(tr).append(td1).append(td2).append(td3);
                            $("#tab").append(tr)
                        }
                    }
                })
            })
        });

    </script>
</head>
<body>
<a href="/project/pages/user/admin/addTeacher.html">添加教师</a>
<a href="/project/pages/user/admin/admin.html">返回</a>
<table id="tab">
    <tr>
        <td>ID</td>
        <td>教师</td>
        <td>删除</td>
    </tr>
</table>
</body>
</html>